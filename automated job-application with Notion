import notion_df

notion_page_url = #Notion page link
notion_database_url = #Notion database link
api_key = #api key for Notion database
acc_id = #email for jobsdb account
acc_pw = #password for jobsdb account

Blacklist = [#the company you don't interested]

job = jobsdb_data(#search target, e.g, business analyst )
job_list_df = job.information()  

job.log_in(acc_id,acc_pw) 

result = []

for index, row in job_list_df.iterrows():
    today = datetime.date.today()
    today_date = today.strftime("%B %d, %Y")
    if job_list_df.loc[index]['Company'] in Blacklist:
        result.append([today_date, 'Blacklist company'])
        pass
    else:
        application = job.apply(job_list_df.loc[index]['Website'])
        result.append([today_date, application])

    
result_df = pd.DataFrame(result, columns = ['Application_Date', 'result'])
application_df = pd.concat([job_list_df,result_df],axis = 1) 

# If database is not yet created, please use notion_page_url to replace notion_database_url
notion_df.upload(application_df, notion_database_url, title="Job application result", api_key=api_key)

  
